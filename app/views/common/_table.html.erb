<% columns.merge!(extra_columns ||= {}) %>
<table id="dm-main-table" class="datatable table table-striped table-bordered table-hover">
  <thead>
    <tr>
    <% columns.keys.each do |name| %>
      <th><%= name.to_s %></th>
    <% end %>
    </tr>
  </thead>
  <tbody>
  <% rows.each do |row| %>
    <tr>
    <% columns.values.each do |method| %>
      <td><%= method.call(row) %></td>
    <% end %>
    </tr>
  <% end %>
  </tbody>
</table>
<script>
  $(document).ready(function() {
    $('#dm-main-table').dataTable();
  });
</script>
